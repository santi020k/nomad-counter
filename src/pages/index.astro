---
import { changeLanguage, t } from 'i18next'

import Hero from '@molecules/hero.astro'

import CountingSection from '@organisms/sections/counting-section'
import ListCountingSection from '@organisms/sections/list-counting-section'

import HtmlLayout from '@layouts/html-layout.astro'
import MainLayout from '@layouts/main-layout.astro'

import { getLocale } from '@utils/lang-utils'

const locale = getLocale(Astro.url)

void changeLanguage(locale)
---

<HtmlLayout title={t('home:title') ?? ''}>
  <MainLayout>
    <Hero />
    <!-- TODO: pendding sections component improve order -->
    <section
      id="calc"
      class="
        container mx-auto flex min-h-screen flex-col flex-wrap items-center justify-center py-[140px] sm:py-[100px]"
    >
      <CountingSection client:idle t={t('home:counting', { returnObjects: true })} />
      <ListCountingSection client:idle />
    </section>
  </MainLayout>
</HtmlLayout>
